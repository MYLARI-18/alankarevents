# alankarevents

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alankar Events | Premium Collection</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;1,400&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root { 
            --gold: #d4af37; 
            --deep-gold: #8a6d1a;
            --bg-black: #080808; 
            --card-black: #121212;
            --white: #ffffff; 
        }
        body { 
            font-family: 'Poppins', sans-serif; 
            margin: 0; 
            background: var(--bg-black); 
            color: var(--white); 
            overflow-x: hidden;
        }
        /* --- ANIMATIONS --- */
        @keyframes revealUp { 
            0% { opacity: 0; transform: translateY(40px); filter: blur(10px); } 
            100% { opacity: 1; transform: translateY(0); filter: blur(0); } 
        }
        @keyframes shimmerGold {
            0% { background-position: -200% center; }
            100% { background-position: 200% center; }
        }
        header { padding: 80px 20px 40px; text-align: center; }
        header h1 { 
            font-family: 'Playfair Display', serif; 
            font-size: clamp(2.2rem, 10vw, 4rem); 
            margin: 0; 
            letter-spacing: 10px; 
            text-transform: uppercase;
            background: linear-gradient(90deg, var(--deep-gold), #fff9e6, var(--deep-gold));
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shimmerGold 5s linear infinite;
        }
        header p { color: var(--gold); text-transform: uppercase; letter-spacing: 8px; font-size: 0.75rem; margin-top: 20px; }
        #gallery { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); 
            gap: 40px; 
            padding: 40px; 
            max-width: 1600px; 
            margin: 0 auto; 
        }
        .item-card { 
            position: relative; 
            overflow: hidden; 
            cursor: pointer; 
            opacity: 0; 
            animation: revealUp 1s ease-out forwards;
            background: var(--card-black);
            border-radius: 20px; 
            box-shadow: 0 20px 40px rgba(0,0,0,0.6);
            transition: transform 0.4s ease;
        }
        .item-card:hover { transform: translateY(-10px); }
        .img-wrapper { 
            overflow: hidden; 
            width: 100%; 
            aspect-ratio: 1/1.2; 
        }
        .item-card img { 
            width: 100%; 
            height: 100%; 
            object-fit: cover; 
            transition: transform 1.5s ease; 
        }
        .price-tag { 
            position: absolute; 
            bottom: 0; 
            left: 0; 
            width: 100%;
            background: linear-gradient(transparent, rgba(0,0,0,0.9)); 
            padding: 40px 20px 20px; 
            font-weight: 400; 
            font-size: 0.9rem; 
            letter-spacing: 2px; 
            color: var(--gold);
            text-align: center;
            pointer-events: none;
        }
        /* --- DELETE BUTTON FIX --- */
        .del-btn { 
            position: absolute;
            top: 15px;
            right: 15px;
            z-index: 99; /* Higher than everything else */
            background: #ff4d4d;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 50px;
            font-size: 10px;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(255, 77, 77, 0.4);
            text-transform: uppercase;
        }
        /* --- MODAL --- */
        #photoModal { 
            display: none; 
            position: fixed; 
            inset: 0; 
            z-index: 9999; 
            align-items: center; 
            justify-content: center; 
            backdrop-filter: blur(20px); 
            background: rgba(0,0,0,0.9); 
        }
        #photoModal.active { display: flex; }
        .modal-container { position: relative; max-width: 85%; text-align: center; }
        .modal-content { max-height: 75vh; max-width: 100%; border-radius: 20px; border: 1px solid var(--deep-gol   
       .wa-btn { 
            display: inline-block; 
            margin-top: 25px; 
            background: var(--gold); 
            color: black; 
            padding: 15px 35px; 
            text-decoration: none; 
            border-radius: 50px; 
            font-weight: 700; 
            text-transform: uppercase;
            font-size: 12px;
            letter-spacing: 2px;
        }
        /* --- ADMIN PANEL --- */
        #adminPanel { display: none; background: #111; padding: 60px 20px; border-top: 1px solid var(--gold); }
        .admin-card { max-width: 400px; margin: 0 auto; background: #000; padding: 30px; border-radius: 20px; }
        input, .btn-post { width: 100%; padding: 15px; margin-bottom: 10px; border-radius: 8px; border: 1px solid #333; background: #111; color: white; }
        .btn-post { background: var(--gold); color: black; border: none; font-weight: 700; cursor: pointer; }

        footer { padding: 80px 20px; text-align: center; opacity: 0.4; font-size: 10px; letter-spacing: 5px; cursor: pointer; color: var(--gold); }
    </style>
</head>
<body>

   <header>
        <h1>ALANKAR EVENTS</h1>
        <p>A Legacy of Luxury</p>
    </header>

  <div id="gallery"></div>

  <div id="photoModal">
        <div class="modal-container">
            <span onclick="document.getElementById('photoModal').classList.remove('active')" style="position:absolute; top:-55px; right:0; color:var(--gold); font-size:40px; cursor:pointer;">&times;</span>
            <img class="modal-content" id="modalImg">
            <br>
            <a id="waLink" href="#" target="_blank" class="wa-btn">Inquire on WhatsApp</a>
        </div>
    </div>

  <div id="adminPanel">
        <div class="admin-card">
            <h2 style="text-align:center; color:var(--gold)">Admin Studio</h2>
            <input type="file" id="photoInput" accept="image/*">
            <input type="text" id="priceInput" placeholder="Price (e.g. ₹80,000)">
            <button class="btn-post" onclick="handleUpload()">Post to Gallery</button>
            <p id="status" style="font-size:12px; color:var(--gold); text-align:center;"></p>
        </div>
    </div>

   <footer onclick="secretClick()">© ALANKAR EVENTS</footer>

  <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, addDoc, query, orderBy, onSnapshot, deleteDoc, doc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDCBOg_FlIpVZyBYVW6yFUcgU7gwIUD1Ks",
            authDomain: "alankar-luxe.firebaseapp.com",
            projectId: "alankar-luxe",
            messagingSenderId: "1093775711292",
            appId: "1:1093775711292:web:30ffd3741a16c10ce9b739"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        let isAdmin = false;
        let clickCount = 0;

        window.secretClick = () => {
            clickCount++;
            if (clickCount === 5) {
                const pass = prompt("Key:");
                if (pass === "alankar777") {
                    isAdmin = true;
                    document.getElementById('adminPanel').style.display = 'block';
                    document.getElementById('adminPanel').scrollIntoView({behavior: 'smooth'});
                    render();
                }
                clickCount = 0;
            }
            setTimeout(() => { clickCount = 0; }, 3000);
        };

        window.openModal = (src, price) => {
            document.getElementById('modalImg').src = src;
            const msg = encodeURIComponent(`Hi Alankar Events, I'm interested in this setup. Price: ${price}`);
            document.getElementById('waLink').href = `https://wa.me/916361755076?text=${msg}`;
            document.getElementById('photoModal').classList.add('active');
        };

        async function processImage(file) {
            return new Promise((resolve) => {
                const reader = new FileReader();
                reader.readAsDataURL(file);
                reader.onload = (e) => {
                    const img = new Image(); img.src = e.target.result;
                    img.onload = () => {
                        const canvas = document.createElement('canvas');
                        const MAX_WIDTH = 700; const scale = MAX_WIDTH / img.width;
                        canvas.width = MAX_WIDTH; canvas.height = img.height * scale;
                        const ctx = canvas.getContext('2d');
                        ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
                        resolve(canvas.toDataURL('image/jpeg', 0.65));
                    };
                };
            });
        }

        window.handleUpload = async () => {
            const input = document.getElementById('photoInput');
            const price = document.getElementById('priceInput');
            if (!input.files[0]) return;
            document.getElementById('status').innerText = "UPLOADING...";
            const b64 = await processImage(input.files[0]);
            await addDoc(collection(db, "event_photos"), {
                imageText: b64, price: price.value || "Request Quote", timestamp: new Date()
            });
            document.getElementById('status').innerText = "DONE.";
            input.value = ""; price.value = "";
        };

        window.deleteItem = async (e, id) => {
            e.stopPropagation(); // Stops the modal from opening when you click delete
            if(confirm("Permanently delete this?")) {
                await deleteDoc(doc(db, "event_photos", id));
            }
        };

        const render = () => {
            onSnapshot(query(collection(db, "event_photos"), orderBy("timestamp", "desc")), (snap) => {
                const gallery = document.getElementById('gallery');
                gallery.innerHTML = ""; 
                snap.forEach((fbDoc) => {
                    const d = fbDoc.data();
                    const card = document.createElement('div');
                    card.className = "item-card";
                    card.onclick = () => openModal(d.imageText, d.price);
                    card.innerHTML = `
                        ${isAdmin ? `<button class="del-btn" onclick="deleteItem(event, '${fbDoc.id}')">REMOVE</button>` : ""}
                        <div class="img-wrapper"><img src="${d.imageText}"></div>
                        <div class="price-tag">${d.price}</div>
                    `;
                    gallery.appendChild(card);
                });
            });
        };

        render();
    </script>
</body>
</html>
